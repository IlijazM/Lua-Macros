package main;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;

import frame.Frame;
import macro.Macro;
import task.Task;

public class Init {
	
	private static BufferedReader initFileReader;
	private static BufferedWriter initFileWriter;
	
	public static void initAll() {
		loadFiles();
		
		init();
	}
	
	public static void init() {
		Macro.init();
		Task.init();
		
		// init keylisteners from jnativehook
		
		KeyboardEvent.init();
		
		initFrame();
	}
	
	public static void initFrame() {
		Main.frame = new Frame("Lua Macros", 400, 250);
	}
	
	public static void loadFiles() {
		File file = AppDir.getAppDir("Lua-Macros");
		file = new File(file.getAbsolutePath() + File.separator + "Init.init");
		
		try {
			
		} catch (IOException e) {
			e.printStackTrace();
		}
		
		try {
			FileReader fileReader = new FileReader(file);
			initFileReader = new BufferedReader(fileReader);
			
			ReadInitFile.read(initFileReader);
		} catch (FileNotFoundException e) {
			FileWriter fileWriter = new FileWriter(file);
			initFileWriter = new BufferedWriter(fileWriter);
			
			e.printStackTrace();
		}
	}
	
}
